<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>Greg Detre - My take on emacsclient</title>
      <meta charset="utf-8" />
      <meta name="generator" content="gdwebgen" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
        <meta name="description" content="Greg Detre's personal website" />
      
      
    
  </head>

  <body>
    <header>
      <hgroup><h1><a href="https://gregdetre.com/">Greg Detre</a></h1><p>Greg Detre's personal website</p></hgroup>
      <nav><ul>
        
        
        </ul>
        <hr />
      </nav>
    </header>
    <main>
      
  <article>
    <header>
      <h2>My take on emacsclient</h2>
    </header>
    
    <p>Emacs is pretty lightweight relative to most modern editors, though by the time it loads all the modes and gets through all the uncompiled junk in my .emacs configuration, you wouldn't know it.  </p>
<p><a href="http://www-h.eng.cam.ac.uk/help/tpl/emacs/node26.html">Emacsclient</a> is the solution - when you open a file with emacsclient, it doesn't start up a whole new emacs - it just opens it in the running emacs, which is more or less instantaneous.  </p>
<p>There are lots of webpages on this, so I won't go into detail. Unfortunately, although you'd hope that calling 'emacsclient' would work just like 'emacs', this isn't true:  </p>
<ul>
<li>
<p>I wanted to tell emacsclient to display an emacs frame, without feeding it any filename arguments to display. No dice.</p>
</li>
<li>
<p>If I don't have a running emacs server (necessary for emacsclient to connect to), it just gives you an error message, rather than taking matters into its own hands and opening up a new emacs instance.</p>
</li>
<li>
<p>If I have emacs running on one computer, and I ssh into that computer, then I want to be able to type emacsclient and have a window show up. No dice. You have to explicitly feed it a display.</p>
</li>
</ul>
<p>These issues were annoying enough that I nearly stopped using emacsclient. Various people have <a href="http://www.emacswiki.org/cgi-bin/wiki/EmacsClient">offered shell script hacks</a> that handle some of these issues and more, but none of them solved the ones that bothered me. Plus, I like Python and I hate shell scripts. So I offer up a teeny python script, <a href="software/emf-on-display">emf-on-display</a>. If you alias 'emf-on-display' to something handy like 'e', then it makes emacsclient behave in a way that I find much more consistent with emacs.  </p>
<p>P.S. I have not dealt with the possibility that you're running this in the terminal, and you don't have an X11 display at all.  </p>
<p>P.P.S. I suspect that it requires emacs 22 (or gnuclient) to work, since it relies on being able to pass 'make-frame-on-display' as elisp code to be evaluated.</p>

    
      <footer>
        <p>
          Last updated: 2024-08-30 20:41:59.071532+00:00
        </p>
      </footer>
    
  </article>

    </main>
    <footer>
      
      
    </footer>
  </body>
</html>